<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cadastro de CEP</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="cadastroEndereco">
      <h2>Cadastro de Endere√ßo</h2>
      <label for="CEP">Digite o CEP:</label>
      <input type="text" id="CEP" maxlength="8" placeholder="Ex: 12345678" />
      <br />
      <label for="Logradouro">Logradouro:</label>
      <input type="text" id="Logradouro" />
      <br />
      <label for="Bairro">Bairro:</label>
      <input type="text" id="Bairro" />
      <br />
      <label for="Cidade">Cidade:</label>
      <input type="text" id="Cidade" />
      <br />
      <label for="Estado">Estado:</label>
      <input type="text" id="Estado" />
    </div>
  </body>
  </html>

  <script>
    var campoCep = document.getElementById("CEP");
    campoCep.addEventListener("blur", function () {
      var cep = campoCep.value;
      if(cep.length == 8) {
        campoCep.style.border = "2px solid red";
      }else{
      fetch("https://viacep.com.br/ws/" + cep + "/json/")
        .then((res) => res.json())
        .then((data) => {
          console.log(data);
          document.getElementById("Logradouro").value = data.logradouro;
          document.getElementById("Bairro").value = data.bairro;
          document.getElementById("Cidade").value = data.localidade;
          document.getElementById("Estado").value = data.uf;

          campoCep.style.border = "2px solid green";
        })
        .catch((error) => {
          campoCep.style.border = "2px solid red";
        });
        }
    });

  </script>

